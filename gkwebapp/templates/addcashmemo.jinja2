
<html>
<head>
  <meta charset="utf-8">
  <title>{% trans %}GNUKhata | Cash Memo{% endtrans %}</title>
  <style media="screen">
  #gstproducttable {
      overflow-x: scroll;
      overflow-y: scroll;
      height: calc(100vh - 28em);
  }
  #invoice_product_table_gst tbody tr {
       display:table;
       width:100%;
       table-layout:fixed;
   }
   #invoice_product_table_gst tbody {
       display:block;
       width:100%;
       height: calc(100vh - 31em);
   }
   #invoice_product_table_gst_heading thead {
       display:table;
       width: calc( 140% - 0.75em );
       table-layout:fixed;
   }
   #invoice_product_table_gst_tfoot tfoot {
       display:block;
       width: calc( 100% - 0.75em );
   }
   #invoice_product_table_total tbody {
       display:block;
       height: calc(100vh - 31em);
       overflow-y:scroll;
   }
   #invoice_product_table_total tbody tr {
       display:table;
       width:100%;
       table-layout:fixed;
   }
   #invoice_product_table_total tfoot {
       display:block;
       width:calc( 100% - 0.75em );
   }
  #invoice_product_table_vat tfoot {
      display:table;
      width: 95%;
  }

  .nopadding{
      padidng:0 !important;
      padding:0 !important;
  }
  td {
      font-size: 65%;
      color: black;
  }

  th {
      font-size: 75%;
  }

  @page {
      size : 21cm 29.7cm;
      margin : 10mm 10mm 20mm 10mm
  }
  thead{
      display: table-header-group;
  }
  tfoot{
      display: table-footer-group;
  }

  .taxwrap {
      width: 12%;
  }
  .lngwrap{
      width:19.5%;
  }
  .mdwrap{
      width:9%;
  }
  .smwrap{
      width:6%;
  }
  .taxcell {
      width:6%
  }
  .totalwrap {
      width:49%;
  }
  .unitaddon {
      overflow:hidden;
      text-overflow:clip;
      white-space:nowrap;
      max-width:35px;
  }
  .rightJustified {
      text-align: right;
  }

  </style>
</head>

<body>
  <div class="container-fluid" style="padding: 1 !important; margin: 0 !important;">
    <div class="alert alert-success" id="success-alert"  aria-live="rude" role="alert" hidden>

      {% trans %}Cash Memo saved.{% endtrans %}
    </div>
    <div class="alert alert-danger" id="failure-alert"  aria-live="rude" role="alert" hidden>

      {% trans %}Something went wrong!{% endtrans %}
    </div>
    <div class="alert alert-danger" id="duplicate-alert"  aria-live="rude" role="alert" hidden>

      {% trans %}Duplicate cash memo no.!{% endtrans %}
    </div>
    <div class="alert alert-danger" id="product-blank-alert"  aria-live="rude" role="alert" hidden>

      <label for="vno">{% trans %}Please select a product!{% endtrans %}</label>
    </div>
    <div class="alert alert-danger" id="quantity-blank-alert"  aria-live="rude" role="alert" hidden>

      <label for="vno">{% trans %}Please enter quantity!{% endtrans %}</label>
    </div>
    <div class="alert alert-danger" id="price-blank-alert"  aria-live="rude" role="alert" hidden>

      <label for="vno">{% trans %}Please enter the price per unit!{% endtrans %}</label>
    </div>
    <div class="panel invoice_panel shadow">
      <div class="panel-body">
        <div class="container-fluid row">
          <div class="alert alert-danger" id="custsup-blank-alert"  aria-live="rude" role="alert" hidden>

            <label for="vno">
              {% if gkstatus=="in" %}
              {% trans %}Please select a supplier!{% endtrans %}
              {% else %}
              {% trans %}Please select a customer!{% endtrans %}
              {% endif %}
            </label>
          </div>
          <div class="alert alert-danger" id="date-blank-alert"  aria-live="rude" role="alert" hidden>

            <label for="vno">{% trans %}Please enter date!{% endtrans %}</label>
          </div>
          <div class="alert alert-danger" id="challanno-blank-alert"  aria-live="rude" role="alert" hidden>

            <label for="vno">{% trans %}Please enter Cash Memo No.!{% endtrans %}</label>
          </div>
          <div class="alert alert-danger" id="issuer-blank-alert"  aria-live="rude" role="alert" hidden>

            <label for="vno">{% trans %}Please enter issuer's name!{% endtrans %}</label>
          </div>
          <div class="alert alert-danger" id="date-alert"  aria-live="rude" role="alert" hidden>

            <label for="vno">{% trans %}Please enter date in proper format!{% endtrans %}</label>
          </div>
          <div class="alert alert-danger" id="between-date-alert" aria-live="rude" role="alert" hidden>

            {% trans %}Please enter date within the financial year!{% endtrans %}
          </div>

          <div class="col-md-3">

            <div class="form-group">
              <label for="invoice_challanno">{% trans %}Cash Memo No{% endtrans %} :</label>
              <input class="form-control input-sm" id="invoice_challanno" placeholder="{% trans %}Enter Cash Memo No{% endtrans %}" accesskey="a">
            </div>
          </div>
          <div class="col-md-3">

            <div class="form-group">
              <label for="invoice_date">{% trans %}Date{% endtrans %} :</label>
              <div class="form-inline ">
                <div class="form-group">
                  <input type="text" class="form-control input-sm invoicedate" size="2" maxlength="2" placeholder="DD" id="invoice_date" accesskey="v">
                </div>
                <div class="form-group">
                  <input type="text" class="form-control input-sm invoicedate" size="2" maxlength="2" placeholder="MM" id="invoice_month" accesskey="v">
                </div>
                <div class="form-group">
                  <input type="text" class="form-control input-sm invoicedate" size="4" maxlength="4" placeholder="YYYY" id="invoice_year" accesskey="v">
                </div>
              </div>
            </div>

          </div>



          <div class="col-md-3 invstate" >

            <div class="form-group">
              <label for="invoice_state">{% trans %}State{% endtrans %} :</label>
              <select class="form-control input-sm tax_state product_new_state" id="invoice_state">

                <option value="Andaman and Nicobar Islands" stateid="1">Andaman and Nicobar Islands</option>
                <option value="Andhra Pradesh" stateid="2">Andhra Pradesh</option>
                <option value="Arunachal Pradesh" stateid="3">Arunachal Pradesh</option>
                <option value="Assam" stateid="4">Assam</option>
                <option value="Bihar" stateid="5">Bihar</option>
                <option value="Chandigarh" stateid="6">Chandigarh</option>
                <option value="Chhattisgarh" stateid="7">Chhattisgarh</option>
                <option value="Dadra and Nagar Haveli" stateid="8">Dadra and Nagar Haveli</option>
                <option value="Daman and Diu" stateid="9">Daman and Diu</option>
                <option value="Delhi" stateid="10">Delhi</option>
                <option value="Goa" stateid="11">Goa</option>
                <option value="Gujarat" stateid="12">Gujarat</option>
                <option value="Haryana" stateid="13">Haryana</option>
                <option value="Himachal Pradesh" stateid="14">Himachal Pradesh</option>
                <option value="Jammu and Kashmir" stateid="15">Jammu and Kashmir</option>
                <option value="Jharkhand" stateid="16">Jharkhand</option>
                <option value="Karnataka" stateid="17">Karnataka</option>
                <option value="Kerala" stateid="19">Kerala</option>
                <option value="Lakshadweep" stateid="20">Lakshadweep</option>
                <option value="Madhya Pradesh" stateid="21">Madhya Pradesh</option>
                <option value="Maharashtra" stateid="22">Maharashtra</option>
                <option value="Manipur" stateid="23">Manipur</option>
                <option value="Meghalaya" stateid="24">Meghalaya</option>
                <option value="Mizoram" stateid="25">Mizoram</option>
                <option value="Nagaland" stateid="26">Nagaland</option>
                <option value="Odisha" stateid="29">Odisha</option>
                <option value="Pondicherry" stateid="31">Pondicherry</option>
                <option value="Punjab" stateid="32">Punjab</option>
                <option value="Rajasthan" stateid="33">Rajasthan</option>
                <option value="Sikkim" stateid="34">Sikkim</option>
                <option value="Tamil Nadu" stateid="35">Tamil Nadu</option>
                <option value="Telangana" stateid="36">Telangana</option>
                <option value="Tripura" stateid="37">Tripura</option>
                <option value="Uttar Pradesh" stateid="38">Uttar Pradesh</option>
                <option value="Uttarakhand" stateid="39">Uttarakhand</option>
                <option value="West Bengal" stateid="41">West Bengal</option>
              </select>
            </div>

          </div>
          <div class="col-md-3">
     <label for="tax applicable" name="taxflag">{% trans %}Tax Applicable{% endtrans %} :</label>
     <select class="form-control input-sm"  id="taxapplicable" accesskey="">
       <option value="7" selected>GST</option>
       <option value="22">VAT</option>
     </select>
         </div>



          {% if gkstatus=="out" %}

          <input type="hidden" id="status" value="15">
          {% endif %}
        </div>


        <div class="container-fluid" id="invoice_product_div">


            <table id="invoice_product_table" class="shadow table table-condensed table-bordered fixed-table fixed-tablepurchase" hidden>
              <thead class="bg-primary">
                <tr>
                  <th class="col-xs-3 text-center">{% trans %}Product{% endtrans %}</th>
                  <th class="col-xs-2 text-center">{% trans %}Quantity{% endtrans %}</th>
                  <th class="col-xs-2 text-center">{% trans %}Free Quantity{% endtrans %}</th>
                  <th class="col-xs-2 text-center">{% trans %}Price Per Unit{% endtrans %}</th>
                  <th class="col-xs-1 text-center">{% trans %}Discount{% endtrans %}</th>
                   <th class="col-xs-1 text-center">{% trans %}Taxable Value{% endtrans %}</th>
                  <th class="col-xs-1 text-center">{% trans %}Tax Rate{% endtrans %}</th>
                  <th class="col-xs-1 text-center">{% trans %}Tax Amount{% endtrans %}</th>
                  <th class="col-xs-2 text-center">{% trans %}Total{% endtrans %}</th>
                  <th class="col-xs-1" style="width: 5%"></th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td class="col-xs-3">
                    <select class="form-control input-sm product_name_vat">
                      <option value="" disabled hidden selected>Select Product</option>
                      {% for product in products %}
                      <option value="{{product['productcode']}}">{{product["productdesc"]}}</option>
                      {% endfor %}
                    </select>
                  </td>
                  <td class="col-xs-2">
                    <div class="input-group">
                      <input type="text" class="invoice_product_quantity form-control input-sm text-right" value="0" placeholder="0" aria-describedby="unitaddon">
                      <span class="input-group-addon input-sm" id="unitaddon"></span>
                    </div>
                  </td>
                  <td class="col-xs-2">
                    <div class="input-group">
                      <input type="text" class="invoice_product_freequantity form-control input-sm text-right" value="0" placeholder="0" aria-describedby="unitaddon">
                      <span class="input-group-addon input-sm" id="freeunitaddon"></span>
                    </div>
                  </td>
                  <td class="col-xs-2">
                    <input type="text" class="invoice_product_per_price form-control input-sm text-right numtype" value="0.00" placeholder="0.00">
                  </td>
                  <td class="col-xs-1">
                    <input type="text" class="invoice_product_discount form-control input-sm text-right numtype" value="0.00" placeholder="0.00" size="8">
                  </td>
                  <td class="col-xs-1">
          		      <input type="text" class="invoice_product_taxablevalue form-control input-sm text-right numtype" value="0.00" placeholder="0.00" size="8" disabled>
          		    </td>
                  <td class="col-xs-1">
                    <input type="text" class="invoice_product_tax_rate form-control input-sm text-right numtype" value="0.00" placeholder="0.00" disabled>
                  </td>
                  <td class="col-xs-1">
                    <input type="text" class="invoice_product_tax_amount form-control input-sm text-right numtype" value="0.00" placeholder="0.00" disabled>
                  </td>
                  <td class="col-xs-2">
                    <input type="text" class="invoice_product_total form-control input-sm text-right numtype" value="0.00" placeholder="0.00" disabled>
                  </td>
                  <td class="col-xs-1" style="width: 5%">

                  </td>
                </tr>
              </tbody>
              <tfoot>
                <tr>
                  <td class="col-xs-9 text-right">
                    <input type="text" class=" form-control input-sm text-right" value="{% trans %}Total{% endtrans %}" placeholder="" disabled>
                  </td>
                  <td class="col-xs-2" style="display:none">
                    <input type="text" class=" form-control input-sm text-right" value="0" placeholder="" disabled>
                  </td>
                  <td class="col-xs-2" style="display:none">
                    <input type="text" class=" form-control input-sm text-right" value="0.00" placeholder="" disabled>
                  </td>
                  <td class="col-xs-1" style="display:none">
                    <input type="text" class=" form-control input-sm text-right" value="0.00" placeholder="" disabled>
                  </td>
                  <td class="col-xs-1" style="display:none">
                    <input type="text" class=" form-control input-sm text-right" value="0.00" placeholder="" disabled>
                  </td>
                  <td class="col-xs-2">
                    <input type="text" class=" form-control deliverychallan_edit_disable input-sm text-right" value="0.00" disabled>
                  </td>
                  <td class="col-xs-1" style="width: 3.5%">

                  </td>
                </tr>
              </tfoot>

            </table>


  	      <div class ="row" id="gstproducttable">
            <div class="col-sm-12"><small id="txtareahelp" class="form-text text-muted">{% trans %}Please scroll horizontally to see all fields in this table.{% endtrans %}</small></div>
        		<div class="col-sm-10" style="overflow-x:scroll;">
        		  <div class="row">
			      <table id="invoice_product_table_gst_heading" class="nopadding table table-condensed table-bordered" style="width:140%; max-width:140%">
        		      <thead class="bg-primary">
                    <tr>
                      <th rowspan="2" class="lngwrap text-center">{% trans %}Product/Service{% endtrans %}</th>
  		                <th rowspan="2" class="smwrap text-center">{% trans %}HSN Code/ ACS code{% endtrans %}</th>
  		                <th rowspan="2" class="mdwrap text-center">{% trans %}Quantity{% endtrans %}</th>
  		                <th rowspan="2" class="mdwrap text-center">{% trans %}Free Quantity{% endtrans %}</th>
  		                <th rowspan="2" class="smwrap text-center">{% trans %}Rate{% endtrans %}</th>
  		                <th rowspan="2" class="smwrap text-center">{% trans %}Discount{% endtrans %}</th>
  		                <th rowspan="2" class="smwrap text-center">{% trans %}Taxable Value {% endtrans %}</th>
  		                <th colspan="2" class="taxwrap text-center">{% trans %}CGST{% endtrans %}</th>
  		                <th colspan="2" class="taxwrap text-center">{% trans %}SGST{% endtrans %}</th>
                    </tr>

  		              <tr>
  		                <th>Rate%</th>
  		                <th>Amt</th>
  		                <th>Rate%</th>
  		                <th>Amt</th>
                    </tr>
  		           </thead>
               </table>
             </div>
             <div class="row">
       		    <table id="invoice_product_table_gst" class="nopadding table table-condensed table-bordered fixed-table fixed-tablepurchase" style="width:140%; max-width:140%; overflow-x:hidden;overflow-y:scroll;">
       		      <tbody>
       			<tr>
       			  <td class="lngwrap">
       			    <select class="form-control input-sm product_name_gst">
       			      <option value="" disabled hidden selected>Select Product</option>
       			      {% for product in productsnservices %}
       				<option value="{{product['productcode']}}" gsflag="{{product["gsflag"]}}">{{product["productdesc"]}}</option>
       			      {% endfor %}
       			    </select>
       			  </td>
       			  <td class="smwrap text-center">
       			    <label class="invoice_product_hsncode text-center"{% trans %} {% endtrans %} </label>
       			  </td>
       			  <td class="mdwrap">
       			    <div class="input-group">
       			      <input type="text" class="invoice_product_quantity_gst form-control input-sm text-right numtype" size="8" value="0" placeholder="0" aria-describedby="unitaddon">
       			      <span class="input-group-addon input-sm unitaddon"></span>
       			    </div>
       			  </td>
       			  <td class="mdwrap">
       			    <div class="input-group">
       			      <input type="text" class="invoice_product_freequantity_gst form-control input-sm text-right numtype smwrap" size="8" value="0" placeholder="0" aria-describedby="unitaddon">
       			      <span class="input-group-addon input-sm unitaddon"></span>
       			    </div>		      </td>

       			  <td class="smwrap">
       			    <input type="text" class="invoice_product_per_price_gst form-control input-sm text-right numtype" size="9" value="0.00" placeholder="0.00">
       			  </td>
       			  <td class="smwrap">
       			    <input type="text" class="invoice_product_discount_gst form-control input-sm text-right numtype" value="0.00" size="9" placeholder="0.00">
       			  </td>
       			  <td class="smwrap">
       			    <input type="text" class="invoice_product_taxablevalue_gst form-control input-sm text-right numtype" value="0.00" size="9" placeholder="0.00" disabled>
       			  </td>

       			  <td class="taxcell"><input type="text" class="invoice_product_cgstrate form-control input-sm text-right numtype" size="9" value="0.00" placeholder="0.00" disabled></td>
       			  <td class="taxcell"><input type="text" class="invoice_product_cgstamount form-control input-sm text-right numtype" size="8" value="0.00" placeholder="0.00" disabled></td>

       			  <td class="taxcell"><input type="text" class="invoice_product_sgstrate  form-control input-sm text-right numtype" size="9" value="0.00" placeholder="0.00" disabled></td>
       			  <td class="taxcell"><input type="text" class="invoice_product_sgstamount  input-sm form-control text-right numtype" size="9" value="0.00" placeholder="0.00" disabled></td>
       			</tr>
          </tbody>
        </table>
      </div>
            <div class="row">
      		    <table id="invoice_product_table_gst_tfoot" class=" table table-condensed table-bordered fixed-table fixed-tablepurchase" style="width:140%; max-width:140%;">
      		      <tfoot>
      			<tr>
      			  <td colspan="5" class="text-right totalwrap" style="vertical-align:middle; font-size:75%">Total</td>
      			  <td class="text-center">  <span id="discounttotal_product_gst" class="input-group-addon input-sm" size="8"></span></td>
      			  <td class="text-center"><span id="taxablevaluetotal_product_gst" class="input-group-addon input-sm" size="8"></span></td>
      			  <td colspan="2" class="text-center"><span id="totalcgst_product_gst" class="input-group-addon input-sm" size="8"></span></td>

      			  <td colspan="2" class="text-center"><span id="totalsgst_product_gst" class="input-group-addon input-sm" size="8"></span></td>
            </tr>
      		      </tfoot>
      		    </table>
      		  </div>
      		</div>

          <div class="col-sm-2 nopadding">
      		  <table id="invoice_product_table_total" class="table table-condensed table-bordered fixed-table fixed-tablepurchase">
      		    <thead>
      		      <tr>
      			<th style="line-height:380% !important; text-align:center;" class="col-xs-8">Total</th>
      			<th class="col-xs-4"></th>
      		      </tr>
      		    </thead>
      		    <tbody>
      		      <tr>
      			<td class="col-xs-8"><input type="text" class="invoice_product_total form-control input-sm text-right numtype" value="0.00" size="14" placeholder="0.00" disabled></td>
      			<td class="col-xs-4 text-center">
      			</td>
      		      </tr>
      		    </tbody>
      		    <tfoot>
      		      <td class="col-xs-8">
      			         <span id="total_product_gst" class="input-group-addon input-sm" size="9"></span>
      		      </td>
      		      <td class="col-xs-4">

      			    </td>
      		      </tfoot>
      		  </table>
      		</div>
        </div>
        </div>
	
          <div class="row col-md-12">
            <div class="col-md-6">
            <table class="table  table-condensed table-bordered ">
            <tbody>
            <h4>Bank Details:</h4>
            <tr>
              <td>  <label for="Account Number" class=" col-form-label" id="accountnolabel"><h5>{% trans %}Account No. :{% endtrans %}</h5></label></td>
              <td colspan="2"><input type="text" id="accountno" class=" form-control input-sm" name="accountno" ></input></td>
            
              <td>  <label for="Bank Name" class=" col-form-label" id="banknamelabel"><h5>{% trans %}Bank Name :{% endtrans %}</h5></label></td>
              <td colspan="2"><input type="text" id="bankname" class=" form-control input-sm" name="bankname" ></input></td>
            </tr>
            <tr>

              <td>  <label for="Branch Name" class=" col-form-label" id="branchnamelabel"><h5>{% trans %}Branch Name :{% endtrans %}</h5></label></td>
              <td colspan="2"><input type="text" id="branchname" class=" form-control input-sm" name="ifsc" ></input></td>

              <td>  <label for="IFSC code" class=" col-form-label" id="ifsclabel"><h5>{% trans %}IFSC code :{% endtrans %}</h5></label></td>
              <td colspan="2"><input type="text" id="ifsc" class=" form-control input-sm" name="ifsc" ></input></td>

            </tr>

            </tbody>
            </table>

            </div>
	    <div class ="col-md-6" >
	      <br> <br>
	      <label for="cashmemo total"><h4>{% trans %}Total amount{% endtrans %} :</h4></label>
	      <label style="font-size: 175%" for="total invoice value" class=" col-form-label col-form-label-sm" id="totalinvoicevalue"></label>
	  </div>
	    </div>
	    <!--  
            <div class="col-md-6" >
    		
    		<table class="table  table-condensed table-bordered table-striped">
    		  <tbody>

    		    <tr>
    		      <td>  <label style="font-size: 125%" for="total invoice value" class=" col-form-label col-form-label-sm" >{% trans %}Total Amount :{% endtrans %}</label></td>
    		      <td colspan="2"> <label style="font-size: 175%" for="total invoice value" class=" col-form-label col-form-label-sm" id="totalinvoicevalue">	      </label></td>
    		    </tr>
    		  </tbody>
    		</table>

            </div> -->
      </div> 
    
    <div class="panel-footer">
      <div class="container-fluid">

        <button class="btn btn-success btn-sm" id="invoice_save" data-toggle="tooltip" data-placement="top" title="Press Insert to save">{% trans %}<i class="fa fa-floppy-o" aria-hidden="true"></i> Save{% endtrans %}</button>
        <button id="invoice_reset" class="btn btn-warning btn-sm">{% trans %}<i class="fa fa-refresh" aria-hidden="true"></i> Reset{% endtrans %}</button>
        <!--  <button id="invoice_saveprint" class="btn btn-primary btn-sm" >{% trans %}<i class="fa fa-print" aria-hidden="true"></i> Save & Print{% endtrans %}</button>-->
      </div>
    </div>
    
  </div>
		      
      <div id="confirm_yes" class="modal" tabindex="-1" role="dialog">
        <div class="vertical-alignment-helper">
          <div class="modal-dialog modal-sm vertical-align-center">
            <div class="modal-content">
              <div class="modal-header">

                <h4 class="modal-title">{% trans %}Save?{% endtrans %}</h4>
              </div>
              <div class="modal-body">
                <p>{% trans %}Are you sure?{% endtrans %}</p>
              </div>
              <div class="modal-footer">
                <button type="button" id ="tn_save_no" class="btn btn-warning" data-dismiss="modal">{% trans %}No{% endtrans %}</button>
                <button type="button" id="tn_save_yes" data-dismiss="modal" class="btn btn-success">{% trans %}Yes{% endtrans %}</button>
              </div>
            </div><!-- /.modal-content -->
          </div><!-- /.modal-dialog -->
        </div>
      </div><!-- /.modal -->
      <div id="confirm_yes_print" class="modal" tabindex="-1" role="dialog">
        <div class="vertical-alignment-helper">
          <div class="modal-dialog modal-sm vertical-align-center">
            <div class="modal-content">
              <div class="modal-header">

                <h4 class="modal-title">{% trans %}Save?{% endtrans %}</h4>
              </div>
              <div class="modal-body">
                <p>{% trans %}Are you sure?{% endtrans %}</p>
              </div>
              <div class="modal-footer">
                <button type="button" id ="tn_save_noprint" class="btn btn-warning" data-dismiss="modal">{% trans %}No{% endtrans %}</button>
                <button type="button" id="tn_save_yesprint" data-dismiss="modal" class="btn btn-success">{% trans %}Yes{% endtrans %}</button>
              </div>
            </div><!-- /.modal-content -->
          </div><!-- /.modal-dialog -->
        </div>
      </div><!-- /.modal -->
  </div>

  <script type="text/javascript" src="{{request.static_url('gkwebapp:static/js/addcashmemo.js')}}"></script>
</body>
</html>
